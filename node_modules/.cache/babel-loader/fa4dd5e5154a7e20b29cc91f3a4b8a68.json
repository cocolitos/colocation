{"ast":null,"code":"var _jsxFileName = \"/media/colin/Documents/Epitech/colocation/src/calendar.js\";\nimport React, { useState, useEffect } from 'react';\nimport { getToken, getUser, removeUserSession } from './Utils/Common';\nimport axios from 'axios';\nimport moment from 'moment';\nimport 'moment/locale/fr';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport styles from \"./assets/jss/material-kit-react/views/componentsSections/basicsStyle.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Close from \"@material-ui/icons/Close\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport Datetime from \"react-datetime\";\nimport DatePicker from \"react-datepicker\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Radio from \"@material-ui/core/Radio\";\nimport FiberManualRecord from \"@material-ui/icons/FiberManualRecord\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Popup from 'reactjs-popup';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport ListIcon from '@material-ui/icons/List';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport ReorderIcon from '@material-ui/icons/Reorder';\nimport \"assets/scss/material-kit-react.scss?v=1.9.0\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'reactjs-popup/dist/index.css';\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return /*#__PURE__*/React.createElement(Slide, Object.assign({\n    direction: \"down\",\n    ref: ref\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 10\n    }\n  }));\n});\nconst url = \"https://cocolinquation.herokuapp.com\"; //const url = \"https://api-sgetas-dev.herokuapp.com\";\n\nTransition.displayName = \"Transition\";\nexport default class Calendar extends React.Component {\n  //function Calendar(props) {\n  constructor() {\n    super();\n    this.state = {\n      user: getUser(),\n      calendars: [],\n      events: [],\n      date: moment().startOf('isoWeek'),\n      taille_calendrier: 19,\n      //3 semaines de travail\n      column: [],\n      data: [\n        /*{\n        \tnom: \"Cocolito\",\n        \tchef: \"The cehf\"\n        }*/\n      ],\n      categories: [],\n      show: false,\n      showEvent: false,\n      showEventReaffecter: false,\n      showEquipeOrder: false,\n      equipe_id: undefined,\n      equipe_nom: '',\n      equipe_chef: '',\n      equipe_camion: '',\n      equipe_manoeuvre: '',\n      equipe_autre: '',\n      equipe_categorie: 'Equipe',\n      event_numero: '',\n      event_chef: '',\n      event_camion: '',\n      event_manoeuvre: '',\n      event_autre: '',\n      event_id_equipe: undefined,\n      event_date_debut: undefined,\n      event_id_event: undefined,\n      event_duration: 1\n    };\n\n    this.getEvent = () => {\n      var swap = [];\n\n      for (var i = 0; i < this.state.taille_calendrier; i++) {\n        if (this.state.date.clone().add(i, \"day\").isoWeekday() < 7) {\n          swap.push({\n            key: this.state.date.clone().add(i, \"day\").format('dddd') + \" \" + this.state.date.clone().add(i, \"day\").format(\"DD/MM/YYYY\"),\n            value: this.state.date.clone().add(i, \"day\")\n          });\n        }\n      }\n\n      this.setState({\n        column: swap\n      });\n      this.state.column = swap;\n      axios.get(url + '/event', {\n        headers: {\n          \"x-access-token\": getToken()\n        }\n      }).then(response => {\n        var events = response.data.Events;\n        this.setState({\n          events: response.data.Events\n        }); //equipes = response.data.Equipe;\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.getEquipes = () => {\n      axios.get(url + '/equipe', {\n        headers: {\n          \"x-access-token\": getToken()\n        }\n      }).then(response => {\n        var equipes = response.data.Equipe;\n        equipes.sort((a, b) => a.order - b.order);\n        this.setEquipe(equipes);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.showModal = e => {\n      this.setState({\n        show: !this.state.show\n      });\n    };\n\n    this.showModalEquipeOrder = e => {\n      this.setState({\n        showEquipeOrder: !this.state.showEquipeOrder\n      });\n    };\n\n    this.showModalEvent = e => {\n      this.setState({\n        showEvent: !this.state.showEvent\n      });\n    };\n\n    this.showModalEventReaffecter = e => {\n      this.setState({\n        showEventReaffecter: !this.state.showEventReaffecter\n      });\n    };\n\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  orderEquipe() {\n    var equipes = this.state.equipes;\n    equipes.sort((a, b) => a.order - b.order);\n    this.setEquipe(equipes);\n  }\n\n  componentDidMount() {\n    axios.get(url + '/calendars', {\n      headers: {\n        'Authorization': 'Bearer ' + getToken()\n      }\n    }).then(response => {\n      this.setState({\n        calendars: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  setEquipe(equipe) {\n    this.setState({\n      equipes: equipe\n    });\n  }\n\n  setValues(id_equipe, date_debut, id) {\n    this.state.event_id_equipe = id_equipe;\n    this.setState({\n      event_id_event: id\n    });\n\n    if (id !== undefined) {\n      console.log(\"couocu\");\n      axios.get(url + '/event/one', {\n        headers: {\n          \"x-access-token\": getToken()\n        },\n        params: {\n          id: id\n        }\n      }).then(response => {\n        if (!response.data.Events) {\n          return;\n        }\n\n        this.setState({\n          event_id_event: id\n        });\n        this.setState({\n          event_numero: response.data.Events.n_chantier\n        });\n        this.setState({\n          event_affaire: response.data.Events.n_affaire\n        });\n        this.setState({\n          event_charge: response.data.Events.charge\n        });\n        this.setState({\n          event_adresse: response.data.Events.adresse\n        });\n        this.setState({\n          event_autre: response.data.Events.autre\n        });\n        this.setState({\n          event_date_debut: moment(response.data.Events.debut)\n        });\n        this.setState({\n          event_id_equipe: response.data.Events.equipe\n        });\n        this.setState({\n          event_duration: response.data.Events.duration\n        });\n        console.log(\"bah ok\");\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      this.setState({\n        event_numero: ''\n      });\n      this.setState({\n        event_affaire: ''\n      });\n      this.setState({\n        event_charge: ''\n      });\n      this.setState({\n        event_adresse: ''\n      });\n      this.setState({\n        event_autre: ''\n      });\n      this.setState({\n        event_date_debut: date_debut\n      });\n      this.setState({\n        event_id_equipe: id_equipe\n      });\n      this.setState({\n        event_duration: 1\n      });\n    }\n  }\n\n  setEquipeValue(id) {\n    this.setState({\n      equipe_id: id\n    });\n\n    if (id !== undefined) {\n      console.log(\"couocu\");\n      axios.get(url + '/equipe/one', {\n        headers: {\n          \"x-access-token\": getToken()\n        },\n        params: {\n          id: id\n        }\n      }).then(response => {\n        this.setState({\n          equipe_nom: response.data.equipe.nom\n        });\n        this.setState({\n          equipe_chef: response.data.equipe.chef\n        });\n        this.setState({\n          equipe_camion: response.data.equipe.camion\n        });\n        this.setState({\n          equipe_manoeuvre: response.data.equipe.manoeuvre\n        });\n        this.setState({\n          equipe_autre: response.data.equipe.autre\n        });\n        this.setState({\n          equipe_categorie: response.data.categorie.name\n        });\n        console.log(\"bah ok\");\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      this.setState({\n        equipe_nom: ''\n      });\n      this.setState({\n        equipe_chef: ''\n      });\n      this.setState({\n        equipe_camion: ''\n      });\n      this.setState({\n        equipe_manoeuvre: ''\n      });\n      this.setState({\n        equipe_autre: ''\n      });\n      this.setState({\n        equipe_categorie: 'Equipe'\n      });\n    }\n  }\n\n  deleteEvent() {\n    if (this.state.event_id_event !== undefined) {\n      console.log(this.state.event_id_event);\n      axios.delete(url + '/event/delete', {\n        headers: {\n          \"x-access-token\": getToken()\n        },\n        params: {\n          id: this.state.event_id_event\n        }\n      }).then(response => {\n        console.log(response.data);\n        window.location.reload(false);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n\n  deleteEquipe(id_equipe) {\n    axios.delete(url + '/equipe/delete', {\n      headers: {\n        \"x-access-token\": getToken()\n      },\n      params: {\n        id: id_equipe\n      }\n    }).then(response => {\n      console.log(response.data);\n      window.location.reload(false);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  handleLogin(event) {\n    console.log(event);\n    window.location.reload(true);\n    return false;\n  }\n\n  add_week() {\n    console.log(this.state.date);\n    this.state.date.add(1, \"week\");\n    this.getEvent();\n    console.log(this.state.date);\n    console.log(\"gg\");\n  }\n\n  sub_week() {\n    console.log(this.state.date);\n    this.state.date.subtract(1, \"week\");\n    this.getEvent();\n    console.log(this.state.date);\n    console.log(\"gg\");\n  }\n\n  change_day(new_date) {\n    this.state.date = moment(new_date);\n    this.getEvent();\n    moment.locale(\"fr\");\n    console.log(moment(\"01-06-2018\", 'MM-DD-YYYY').locale(\"fr\").format('LLL'));\n  }\n\n  generate_tooltipe(event) {\n    let text = \"chantier : \" + event.n_chantier;\n\n    if (event.n_affaire !== \"\") {\n      text += \"\\nn° affaire : \" + event.n_affaire;\n    }\n\n    if (event.adresse !== \"\") {\n      text += \"\\nadresse : \" + event.adresse;\n    }\n\n    if (event.charge) {\n      text += \"\\nchargé : \" + event.charge;\n    }\n\n    text += \"\\nduré : \" + event.duration + \" jour(s)\";\n\n    if (event.autre) {\n      text += \"\\nautre : \" + event.autre;\n    }\n\n    return text;\n  }\n\n  reaffecterEvent() {\n    this.showModalEvent();\n    this.setState({\n      showEventReaffecter: true\n    });\n  }\n\n  render() {\n    const useStyles = makeStyles(styles);\n    const classes = makeStyles(styles);\n\n    const handleSubmit_add_equipe = event => {\n      event.preventDefault();\n\n      if (this.state.nom == '') {\n        console.log(\"erreur: nom requis\");\n        return;\n      }\n\n      let data = {\n        nom: this.state.equipe_nom,\n        chef: this.state.equipe_chef,\n        camion: this.state.equipe_camion,\n        manoeuvre: this.state.equipe_manoeuvre,\n        autre: this.state.equipe_autre,\n        categorie: this.state.equipe_categorie\n      };\n      let url_edit = url + '/equipe/add';\n\n      if (this.state.equipe_id !== undefined) {\n        url_edit = url + \"/equipe/update\";\n        data.id = this.state.equipe_id;\n      }\n\n      console.log(url_edit);\n      console.log(data);\n      axios.post(url_edit, data, {\n        headers: {\n          \"x-access-token\": getToken()\n        }\n      }).then(response => {\n        console.log(response);\n        window.location.reload(false); //props.history.push('/Calendar');\n      }).catch(error => {\n        console.log(error);\n      }); //console.log(React.findDOMNode(this.refs.equipe_nom_ref).value);\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 4\n      }\n    });\n  }\n\n} //export default Calendar;\n//<ModalEquipe className=\"modalEquipe\" onClose={this.showModal} show={this.state.show} />\n\n/*\n\t\t\t\t\tthis.state.equipes.map((e, i) => {\n\t\t\t\t\t\treturn <div key={i}>{e.nom}</div>;\n\t\t\t\t\t})\n\n\n\n\t\t\t\t\t<ReactTable \ndata={tableData} \ncolumns={columns} \ndefaultPageSize = {2} \npageSizeOptions = {[2,4,6,8]\n}  \n/>\n\n5fa17b8a58e5d000175ec5e2\n5fa1815858e5d000175ec5e3\n5fab15b8480adb0017fdb367\n\n\n*/","map":{"version":3,"sources":["/media/colin/Documents/Epitech/colocation/src/calendar.js"],"names":["React","useState","useEffect","getToken","getUser","removeUserSession","axios","moment","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","styles","Button","Slide","Dialog","DialogTitle","DialogContent","DialogActions","IconButton","Close","CustomInput","Datetime","DatePicker","Tooltip","Radio","FiberManualRecord","FormControlLabel","Popup","DeleteIcon","ListIcon","ArrowUpwardIcon","ArrowDownwardIcon","ReorderIcon","Transition","forwardRef","props","ref","url","displayName","Calendar","Component","constructor","state","user","calendars","events","date","startOf","taille_calendrier","column","data","categories","show","showEvent","showEventReaffecter","showEquipeOrder","equipe_id","undefined","equipe_nom","equipe_chef","equipe_camion","equipe_manoeuvre","equipe_autre","equipe_categorie","event_numero","event_chef","event_camion","event_manoeuvre","event_autre","event_id_equipe","event_date_debut","event_id_event","event_duration","getEvent","swap","i","clone","add","isoWeekday","push","key","format","value","setState","get","headers","then","response","Events","catch","error","console","log","getEquipes","equipes","Equipe","sort","a","b","order","setEquipe","showModal","e","showModalEquipeOrder","showModalEvent","showModalEventReaffecter","handleLogin","bind","orderEquipe","componentDidMount","equipe","setValues","id_equipe","date_debut","id","params","n_chantier","event_affaire","n_affaire","event_charge","charge","event_adresse","adresse","autre","debut","duration","setEquipeValue","nom","chef","camion","manoeuvre","categorie","name","deleteEvent","delete","window","location","reload","deleteEquipe","event","add_week","sub_week","subtract","change_day","new_date","locale","generate_tooltipe","text","reaffecterEvent","render","useStyles","classes","handleSubmit_add_equipe","preventDefault","url_edit","post"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { getToken, getUser, removeUserSession } from './Utils/Common';\nimport axios from 'axios';\nimport moment from 'moment';\nimport 'moment/locale/fr';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport styles from \"./assets/jss/material-kit-react/views/componentsSections/basicsStyle.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Close from \"@material-ui/icons/Close\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport Datetime from \"react-datetime\";\nimport DatePicker from \"react-datepicker\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Radio from \"@material-ui/core/Radio\";\nimport FiberManualRecord from \"@material-ui/icons/FiberManualRecord\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Popup from 'reactjs-popup';\n\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport ListIcon from '@material-ui/icons/List';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport ReorderIcon from '@material-ui/icons/Reorder';\n\nimport \"assets/scss/material-kit-react.scss?v=1.9.0\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'reactjs-popup/dist/index.css';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"down\" ref={ref} {...props} />;\n});\n\nconst url = \"https://cocolinquation.herokuapp.com\";\n//const url = \"https://api-sgetas-dev.herokuapp.com\";\n\nTransition.displayName = \"Transition\";\n\nexport default class Calendar extends React.Component {\n//function Calendar(props) {\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.handleLogin = this.handleLogin.bind(this);\n\t}\n\n\tstate = {\n\t\tuser: getUser(),\n\t\tcalendars: [],\n\t\tevents: [],\n\t\tdate: moment().startOf('isoWeek'),\n\t\ttaille_calendrier: 19,  //3 semaines de travail\n\t\tcolumn: [\n\t\t\t\n\t\t],\n\t\tdata: [\n\t\t\t/*{\n\t\t\t\tnom: \"Cocolito\",\n\t\t\t\tchef: \"The cehf\"\n\t\t\t}*/\n\t\t],\n\n\t\tcategories: [],\n\n\t\tshow: false,\n\t\tshowEvent: false,\n\t\tshowEventReaffecter: false,\n\t\tshowEquipeOrder: false,\n\n\t\tequipe_id: undefined,\n\t\tequipe_nom: '',\n\t\tequipe_chef: '',\n\t\tequipe_camion: '',\n\t\tequipe_manoeuvre: '',\n\t\tequipe_autre: '',\n\t\tequipe_categorie: 'Equipe',\n\n\t\tevent_numero: '',\n\t\tevent_chef: '',\n\t\tevent_camion: '',\n\t\tevent_manoeuvre: '',\n\t\tevent_autre: '',\n\t\tevent_id_equipe: undefined,\n\t\tevent_date_debut: undefined,\n\t\tevent_id_event: undefined,\n\t\tevent_duration: 1,\n\t};\n\n\torderEquipe() {\n\t\tvar equipes = this.state.equipes;\n\t\tequipes.sort((a,b) => a.order - b.order);\n\t\tthis.setEquipe(equipes);\n\t}\n\n\tcomponentDidMount() {\n\t\taxios.get(url + '/calendars', {headers: {'Authorization': 'Bearer ' + getToken()} }).then(response => {\n\t\t\tthis.setState({ calendars: response.data });\n\t\t}).catch(error => {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n\n\tgetEvent = () => {\n\t\tvar swap = [];\n\t\tfor (var i = 0; i < this.state.taille_calendrier; i++) {\n\t\t\tif (this.state.date.clone().add(i, \"day\").isoWeekday() < 7) {\n\t\t\t\tswap.push({\n\t\t\t\t\tkey: this.state.date.clone().add(i, \"day\").format('dddd') + \" \" + this.state.date.clone().add(i, \"day\").format(\"DD/MM/YYYY\"),\n\t\t\t\t\tvalue: this.state.date.clone().add(i, \"day\")\n\t\t\t\t});\n\t\t\t}\n\t\t} \n\t\tthis.setState({column: swap});\n\t\tthis.state.column = swap;\n\t\taxios.get(url + '/event', {headers: {\"x-access-token\": getToken()} }).then(response => {\n\t\t\tvar events = response.data.Events;\n\t\t\tthis.setState({ events: response.data.Events });\n\t\t\t//equipes = response.data.Equipe;\n\t\t}).catch(error => {\n\t\t\tconsole.log(error);\n\t\t});\n\t};\n\n\tsetEquipe(equipe) {\n\t\tthis.setState({equipes: equipe});\n\t}\n\n\tgetEquipes = () => {\n\t\taxios.get(url + '/equipe', {headers: {\"x-access-token\": getToken()} }).then(response => {\n\t\t\tvar equipes = response.data.Equipe;\n\t\t\tequipes.sort((a,b) => a.order - b.order);\n\t\t\tthis.setEquipe(equipes);\n\t\t}).catch(error => {\n\t\t\tconsole.log(error);\n\t\t}); \n\t};\n\n\tshowModal = e => {\n\t\tthis.setState({\n\t\t\tshow: !this.state.show\n\t\t});\n\t};\n\n\tshowModalEquipeOrder = e => {\n\t\tthis.setState({\n\t\t\tshowEquipeOrder: !this.state.showEquipeOrder\n\t\t});\n\t};\n\n\tshowModalEvent = e => {\n\t\tthis.setState({\n\t\t\tshowEvent: !this.state.showEvent\n\t\t});\n\t};\n\n\tshowModalEventReaffecter = e => {\n\t\tthis.setState({\n\t\t\tshowEventReaffecter: !this.state.showEventReaffecter\n\t\t});\n\t};\n\n\tsetValues(id_equipe, date_debut, id) {\n\t\tthis.state.event_id_equipe = id_equipe;\n\t\tthis.setState({event_id_event: id});\n\n\t\tif (id !== undefined) {\n\t\t\tconsole.log(\"couocu\");\n\t\t\taxios.get(url + '/event/one', {\n\t\t\t\theaders: {\"x-access-token\": getToken()},\n\t\t\t\tparams: {id: id}\n\t\t\t}).then(response => {\n\t\t\t\tif (!response.data.Events) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.setState({event_id_event: id});\n\t\t\t\tthis.setState({event_numero: response.data.Events.n_chantier});\n\t\t\t\tthis.setState({event_affaire: response.data.Events.n_affaire});\n\t\t\t\tthis.setState({event_charge: response.data.Events.charge});\n\t\t\t\tthis.setState({event_adresse: response.data.Events.adresse});\n\t\t\t\tthis.setState({event_autre: response.data.Events.autre});\n\t\t\t\tthis.setState({event_date_debut: moment(response.data.Events.debut)});\n\t\t\t\tthis.setState({event_id_equipe: response.data.Events.equipe});\n\t\t\t\tthis.setState({event_duration: response.data.Events.duration});\n\t\t\t\tconsole.log(\"bah ok\");\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({event_numero: ''});\n\t\t\tthis.setState({event_affaire: ''});\n\t\t\tthis.setState({event_charge: ''});\n\t\t\tthis.setState({event_adresse: ''});\n\t\t\tthis.setState({event_autre: ''});\n\t\t\tthis.setState({event_date_debut: date_debut});\n\t\t\tthis.setState({event_id_equipe: id_equipe});\n\t\t\tthis.setState({event_duration: 1});\n\t\t}\n\t}\n\n\tsetEquipeValue(id) {\n\t\tthis.setState({equipe_id: id});\n\n\t\tif (id !== undefined) {\n\t\t\tconsole.log(\"couocu\");\n\t\t\taxios.get(url + '/equipe/one', {\n\t\t\t\theaders: {\"x-access-token\": getToken()},\n\t\t\t\tparams: {id: id}\n\t\t\t}).then(response => {\n\t\t\t\tthis.setState({equipe_nom: response.data.equipe.nom});\n\t\t\t\tthis.setState({equipe_chef: response.data.equipe.chef});\n\t\t\t\tthis.setState({equipe_camion: response.data.equipe.camion});\n\t\t\t\tthis.setState({equipe_manoeuvre: response.data.equipe.manoeuvre});\n\t\t\t\tthis.setState({equipe_autre: response.data.equipe.autre});\n\t\t\t\tthis.setState({equipe_categorie: response.data.categorie.name});\n\t\t\t\tconsole.log(\"bah ok\");\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({equipe_nom: ''});\n\t\t\tthis.setState({equipe_chef: ''});\n\t\t\tthis.setState({equipe_camion: ''});\n\t\t\tthis.setState({equipe_manoeuvre: ''});\n\t\t\tthis.setState({equipe_autre: ''});\n\t\t\tthis.setState({equipe_categorie: 'Equipe'});\n\t\t}\n\t}\n\n\tdeleteEvent() {\n\t\tif (this.state.event_id_event !== undefined) {\n\t\t\tconsole.log(this.state.event_id_event);\n\t\t\taxios.delete(url + '/event/delete', {\n\t\t\t\theaders: {\"x-access-token\": getToken()},\n\t\t\t\tparams: {id: this.state.event_id_event}\n\t\t\t}).then(response => {\n\t\t\t\tconsole.log(response.data);\n\t\t\t\twindow.location.reload(false);\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t\t}\n\t}\n\n\tdeleteEquipe(id_equipe) {\n\t\taxios.delete(url + '/equipe/delete', {\n\t\t\t\theaders: {\"x-access-token\": getToken()},\n\t\t\t\tparams: {id: id_equipe}\n\t\t\t}).then(response => {\n\t\t\tconsole.log(response.data);\n\t\t\twindow.location.reload(false);\n\t\t}).catch(error => {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n\n\thandleLogin(event) {\n\t\tconsole.log(event);\n\t\twindow.location.reload(true);\n\t\treturn false;\n\t}\n\n\tadd_week() {\n\t\tconsole.log(this.state.date);\n\t\tthis.state.date.add(1, \"week\");\n\t\tthis.getEvent();\n\t\tconsole.log(this.state.date);\n\t\tconsole.log(\"gg\");\n\t}\n\n\tsub_week() {\n\t\tconsole.log(this.state.date);\n\t\tthis.state.date.subtract(1, \"week\");\n\t\tthis.getEvent();\n\t\tconsole.log(this.state.date);\n\t\tconsole.log(\"gg\");\n\t}\n\n\tchange_day(new_date) {\n\t\tthis.state.date = moment(new_date);\n\t\tthis.getEvent();\n\t\tmoment.locale(\"fr\");\n\t\tconsole.log(moment(\"01-06-2018\", 'MM-DD-YYYY').locale(\"fr\").format('LLL'));\n\t}\n\n\tgenerate_tooltipe(event) {\n\t\tlet text = \"chantier : \" + event.n_chantier;\n\t\tif (event.n_affaire !== \"\") {\n\t\t\ttext += \"\\nn° affaire : \" + event.n_affaire;\n\t\t}\n\t\tif (event.adresse !== \"\") {\n\t\t\ttext += \"\\nadresse : \" + event.adresse;\n\t\t}\n\t\tif (event.charge) {\n\t\t\ttext += \"\\nchargé : \" + event.charge;\n\t\t}\n\t\ttext += \"\\nduré : \" + event.duration + \" jour(s)\";\n\t\tif (event.autre) {\n\t\t\ttext += \"\\nautre : \" + event.autre;\n\t\t}\n\t\treturn text;\n\t}\n\n\treaffecterEvent() {\n\t\tthis.showModalEvent();\n\t\tthis.setState({showEventReaffecter: true})\n\t}\n\n\trender() {\n\n\t\tconst useStyles = makeStyles(styles);\n\t\tconst classes = makeStyles(styles);\n \t\t\n \t\tconst handleSubmit_add_equipe = (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tif (this.state.nom == '') {\n\t\t\t\tconsole.log(\"erreur: nom requis\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\tnom: this.state.equipe_nom,\n\t\t\t\tchef: this.state.equipe_chef,\n\t\t\t\tcamion: this.state.equipe_camion,\n\t\t\t\tmanoeuvre: this.state.equipe_manoeuvre,\n\t\t\t\tautre: this.state.equipe_autre,\n\t\t\t\tcategorie: this.state.equipe_categorie\n\t\t\t}\n\t\t\tlet url_edit = url + '/equipe/add';\n\t\t\tif (this.state.equipe_id !== undefined) {\n\t\t\t\turl_edit = url + \"/equipe/update\"\n\t\t\t\tdata.id = this.state.equipe_id;\n\t\t\t}\n\t\t\tconsole.log(url_edit);\n\t\t\tconsole.log(data);\n\t\t\taxios.post(url_edit, data\n\t\t\t, {\n\t\t\t\theaders: {\"x-access-token\": getToken()}\n\t\t\t}).then(response => {\n\t\t\t\tconsole.log(response);\n\t\t\t\twindow.location.reload(false);\n\t\t\t\t//props.history.push('/Calendar');\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t\t\t//console.log(React.findDOMNode(this.refs.equipe_nom_ref).value);\n\t\t}\n\n\t\treturn (\n\t\t\t<div></div>\n\t\t);\n\t}\n}\n \n//export default Calendar;\n\t\t\t\t//<ModalEquipe className=\"modalEquipe\" onClose={this.showModal} show={this.state.show} />\n\n/*\n\t\t\t\t\tthis.state.equipes.map((e, i) => {\n\t\t\t\t\t\treturn <div key={i}>{e.nom}</div>;\n\t\t\t\t\t})\n\n\n\n\t\t\t\t\t<ReactTable \ndata={tableData} \ncolumns={columns} \ndefaultPageSize = {2} \npageSizeOptions = {[2,4,6,8]\n}  \n/>\n\n5fa17b8a58e5d000175ec5e2\n5fa1815858e5d000175ec5e3\n5fab15b8480adb0017fdb367\n\n\n*/"]},"metadata":{},"sourceType":"module"}