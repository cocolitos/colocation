{"ast":null,"code":"var _jsxFileName = \"/media/colin/Documents/Epitech/colocation/src/calendar.js\";\nimport React, { useState, useEffect } from 'react';\nimport { getToken, getUser, removeUserSession } from './Utils/Common';\nimport axios from 'axios';\nimport moment from 'moment';\nimport 'moment/locale/fr';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport styles from \"./assets/jss/material-kit-react/views/componentsSections/basicsStyle.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Close from \"@material-ui/icons/Close\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport Datetime from \"react-datetime\";\nimport DatePicker from \"react-datepicker\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Radio from \"@material-ui/core/Radio\";\nimport FiberManualRecord from \"@material-ui/icons/FiberManualRecord\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Popup from 'reactjs-popup';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport ListIcon from '@material-ui/icons/List';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport ReorderIcon from '@material-ui/icons/Reorder';\nimport \"assets/scss/material-kit-react.scss?v=1.9.0\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'reactjs-popup/dist/index.css';\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return /*#__PURE__*/React.createElement(Slide, Object.assign({\n    direction: \"down\",\n    ref: ref\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 10\n    }\n  }));\n});\nconst url = \"https://cocolinquation.herokuapp.com\"; //const url = \"https://api-sgetas-dev.herokuapp.com\";\n\nTransition.displayName = \"Transition\";\nexport default class Calendar extends React.Component {\n  //function Calendar(props) {\n  constructor() {\n    super();\n    this.state = {\n      user: getUser(),\n      calendars: [],\n      events: [],\n      date: moment().startOf('isoWeek'),\n      taille_calendrier: 19,\n      //3 semaines de travail\n      column: [],\n      data: [\n        /*{\n        \tnom: \"Cocolito\",\n        \tchef: \"The cehf\"\n        }*/\n      ],\n      categories: [],\n      show: false,\n      showEvent: false,\n      showEventReaffecter: false,\n      showEquipeOrder: false,\n      equipe_id: undefined,\n      equipe_nom: '',\n      equipe_chef: '',\n      equipe_camion: '',\n      equipe_manoeuvre: '',\n      equipe_autre: '',\n      equipe_categorie: 'Equipe',\n      event_numero: '',\n      event_chef: '',\n      event_camion: '',\n      event_manoeuvre: '',\n      event_autre: '',\n      event_id_equipe: undefined,\n      event_date_debut: undefined,\n      event_id_event: undefined,\n      event_duration: 1,\n      calendar_name: '',\n      calendar_cp: '',\n      calendar_address: ''\n    };\n\n    this.getEvent = () => {\n      var swap = [];\n\n      for (var i = 0; i < this.state.taille_calendrier; i++) {\n        if (this.state.date.clone().add(i, \"day\").isoWeekday() < 7) {\n          swap.push({\n            key: this.state.date.clone().add(i, \"day\").format('dddd') + \" \" + this.state.date.clone().add(i, \"day\").format(\"DD/MM/YYYY\"),\n            value: this.state.date.clone().add(i, \"day\")\n          });\n        }\n      }\n\n      this.setState({\n        column: swap\n      });\n      this.state.column = swap;\n      axios.get(url + '/event', {\n        headers: {\n          \"x-access-token\": getToken()\n        }\n      }).then(response => {\n        var events = response.data.Events;\n        this.setState({\n          events: response.data.Events\n        }); //equipes = response.data.Equipe;\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.getEquipes = () => {\n      axios.get(url + '/equipe', {\n        headers: {\n          \"x-access-token\": getToken()\n        }\n      }).then(response => {\n        var equipes = response.data.Equipe;\n        equipes.sort((a, b) => a.order - b.order);\n        this.setEquipe(equipes);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.showModal = e => {\n      this.setState({\n        show: !this.state.show\n      });\n    };\n\n    this.showModalEquipeOrder = e => {\n      this.setState({\n        showEquipeOrder: !this.state.showEquipeOrder\n      });\n    };\n\n    this.showModalEvent = e => {\n      this.setState({\n        showEvent: !this.state.showEvent\n      });\n    };\n\n    this.showModalEventReaffecter = e => {\n      this.setState({\n        showEventReaffecter: !this.state.showEventReaffecter\n      });\n    };\n\n    this.handleLogin = this.handleLogin.bind(this);\n  }\n\n  orderEquipe() {\n    var equipes = this.state.equipes;\n    equipes.sort((a, b) => a.order - b.order);\n    this.setEquipe(equipes);\n  }\n\n  componentDidMount() {\n    console.log(getToken());\n    axios.get(url + '/calendars', {\n      headers: {\n        'Authorization': 'Bearer ' + getToken()\n      }\n    }).then(response => {\n      this.setState({\n        calendars: response.data\n      });\n      console.log(this.state.calendars);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  setEquipe(equipe) {\n    this.setState({\n      equipes: equipe\n    });\n  }\n\n  setValues(id_equipe, date_debut, id) {\n    this.state.event_id_equipe = id_equipe;\n    this.setState({\n      event_id_event: id\n    });\n\n    if (id !== undefined) {\n      console.log(\"couocu\");\n      axios.get(url + '/event/one', {\n        headers: {\n          \"x-access-token\": getToken()\n        },\n        params: {\n          id: id\n        }\n      }).then(response => {\n        if (!response.data.Events) {\n          return;\n        }\n\n        this.setState({\n          event_id_event: id\n        });\n        this.setState({\n          event_numero: response.data.Events.n_chantier\n        });\n        this.setState({\n          event_affaire: response.data.Events.n_affaire\n        });\n        this.setState({\n          event_charge: response.data.Events.charge\n        });\n        this.setState({\n          event_adresse: response.data.Events.adresse\n        });\n        this.setState({\n          event_autre: response.data.Events.autre\n        });\n        this.setState({\n          event_date_debut: moment(response.data.Events.debut)\n        });\n        this.setState({\n          event_id_equipe: response.data.Events.equipe\n        });\n        this.setState({\n          event_duration: response.data.Events.duration\n        });\n        console.log(\"bah ok\");\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      this.setState({\n        event_numero: ''\n      });\n      this.setState({\n        event_affaire: ''\n      });\n      this.setState({\n        event_charge: ''\n      });\n      this.setState({\n        event_adresse: ''\n      });\n      this.setState({\n        event_autre: ''\n      });\n      this.setState({\n        event_date_debut: date_debut\n      });\n      this.setState({\n        event_id_equipe: id_equipe\n      });\n      this.setState({\n        event_duration: 1\n      });\n    }\n  }\n\n  setEquipeValue(id) {\n    this.setState({\n      equipe_id: id\n    });\n\n    if (id !== undefined) {\n      console.log(\"couocu\");\n      axios.get(url + '/equipe/one', {\n        headers: {\n          \"x-access-token\": getToken()\n        },\n        params: {\n          id: id\n        }\n      }).then(response => {\n        this.setState({\n          equipe_nom: response.data.equipe.nom\n        });\n        this.setState({\n          equipe_chef: response.data.equipe.chef\n        });\n        this.setState({\n          equipe_camion: response.data.equipe.camion\n        });\n        this.setState({\n          equipe_manoeuvre: response.data.equipe.manoeuvre\n        });\n        this.setState({\n          equipe_autre: response.data.equipe.autre\n        });\n        this.setState({\n          equipe_categorie: response.data.categorie.name\n        });\n        console.log(\"bah ok\");\n      }).catch(error => {\n        console.log(error);\n      });\n    } else {\n      this.setState({\n        equipe_nom: ''\n      });\n      this.setState({\n        equipe_chef: ''\n      });\n      this.setState({\n        equipe_camion: ''\n      });\n      this.setState({\n        equipe_manoeuvre: ''\n      });\n      this.setState({\n        equipe_autre: ''\n      });\n      this.setState({\n        equipe_categorie: 'Equipe'\n      });\n    }\n  }\n\n  deleteEvent() {\n    if (this.state.event_id_event !== undefined) {\n      console.log(this.state.event_id_event);\n      axios.delete(url + '/event/delete', {\n        headers: {\n          \"x-access-token\": getToken()\n        },\n        params: {\n          id: this.state.event_id_event\n        }\n      }).then(response => {\n        console.log(response.data);\n        window.location.reload(false);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n\n  deleteEquipe(id_equipe) {\n    axios.delete(url + '/equipe/delete', {\n      headers: {\n        \"x-access-token\": getToken()\n      },\n      params: {\n        id: id_equipe\n      }\n    }).then(response => {\n      console.log(response.data);\n      window.location.reload(false);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  handleLogin(event) {\n    console.log(event);\n    window.location.reload(true);\n    return false;\n  }\n\n  add_week() {\n    console.log(this.state.date);\n    this.state.date.add(1, \"week\");\n    this.getEvent();\n    console.log(this.state.date);\n    console.log(\"gg\");\n  }\n\n  sub_week() {\n    console.log(this.state.date);\n    this.state.date.subtract(1, \"week\");\n    this.getEvent();\n    console.log(this.state.date);\n    console.log(\"gg\");\n  }\n\n  change_day(new_date) {\n    this.state.date = moment(new_date);\n    this.getEvent();\n    moment.locale(\"fr\");\n    console.log(moment(\"01-06-2018\", 'MM-DD-YYYY').locale(\"fr\").format('LLL'));\n  }\n\n  generate_tooltipe(event) {\n    let text = \"chantier : \" + event.n_chantier;\n\n    if (event.n_affaire !== \"\") {\n      text += \"\\nn° affaire : \" + event.n_affaire;\n    }\n\n    if (event.adresse !== \"\") {\n      text += \"\\nadresse : \" + event.adresse;\n    }\n\n    if (event.charge) {\n      text += \"\\nchargé : \" + event.charge;\n    }\n\n    text += \"\\nduré : \" + event.duration + \" jour(s)\";\n\n    if (event.autre) {\n      text += \"\\nautre : \" + event.autre;\n    }\n\n    return text;\n  }\n\n  reaffecterEvent() {\n    this.showModalEvent();\n    this.setState({\n      showEventReaffecter: true\n    });\n  }\n\n  render() {\n    const useStyles = makeStyles(styles);\n    const classes = makeStyles(styles);\n\n    const handleSubmit_add_calendrier = event => {\n      event.preventDefault();\n\n      if (this.state.nom == '') {\n        console.log(\"erreur: nom requis\");\n        return;\n      }\n\n      let data = {\n        nom: this.state.equipe_nom,\n        chef: this.state.equipe_chef,\n        camion: this.state.equipe_camion,\n        manoeuvre: this.state.equipe_manoeuvre,\n        autre: this.state.equipe_autre,\n        categorie: this.state.equipe_categorie\n      };\n      let url_edit = url + '/equipe/add';\n\n      if (this.state.equipe_id !== undefined) {\n        url_edit = url + \"/equipe/update\";\n        data.id = this.state.equipe_id;\n      }\n\n      console.log(url_edit);\n      console.log(data);\n      axios.post(url_edit, data, {\n        headers: {\n          \"x-access-token\": getToken()\n        }\n      }).then(response => {\n        console.log(response);\n        window.location.reload(false); //props.history.push('/Calendar');\n      }).catch(error => {\n        console.log(error);\n      }); //console.log(React.findDOMNode(this.refs.equipe_nom_ref).value);\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(TableContainer, {\n      component: Paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      className: classes.table,\n      \"aria-label\": \"simple table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      key: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }\n    }, \"Calendrier\", /*#__PURE__*/React.createElement(Button, {\n      justIcon: true,\n      round: true,\n      color: \"primary\",\n      onClick: e => {\n        this.showModal();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 10\n      }\n    }, \"+\")), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }\n    }, \"Code Postal\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }\n    }, \"Adresse\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 7\n      }\n    }, this.state.calendars.map(calendar => /*#__PURE__*/React.createElement(TableRow, {\n      key: calendar._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 11\n      }\n    }, calendar.name)), /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 11\n      }\n    }, calendar.CP)), /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 11\n      }\n    }, calendar.address))))))), /*#__PURE__*/React.createElement(Dialog, {\n      classes: {\n        root: classes.center,\n        paper: classes.modal\n      },\n      open: this.state.show,\n      TransitionComponent: Transition,\n      keepMounted: true,\n      onClose: this.showModal,\n      \"aria-labelledby\": \"classic-modal-slide-title\",\n      \"aria-describedby\": \"classic-modal-slide-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      id: \"classic-modal-slide-title\",\n      disableTypography: true,\n      className: classes.modalHeader,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 6\n      }\n    }, \"Ajouter un calendrier\", /*#__PURE__*/React.createElement(IconButton, {\n      className: classes.modalCloseButton,\n      key: \"close\",\n      \"aria-label\": \"Close\",\n      color: \"inherit\",\n      onClick: this.showModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Close, {\n      className: classes.modalClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 8\n      }\n    }))), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleSubmit_add_calendrier,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(DialogContent, {\n      id: \"classic-modal-slide-description\",\n      className: classes.modalBody,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.calendar_name,\n      onChange: event => this.setState({\n        equipe_nom: event.target.value\n      }),\n      placeholder: \"Nom\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.calendar_cp,\n      onChange: event => this.setState({\n        equipe_chef: event.target.value\n      }),\n      placeholder: \"Code Postal\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.calendar_address,\n      onChange: event => this.setState({\n        equipe_camion: event.target.value\n      }),\n      placeholder: \"Adresse\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(DialogActions, {\n      className: classes.modalFooter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 8\n      }\n    }, \"Valider\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.showModal,\n      color: \"danger\",\n      simple: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 8\n      }\n    }, \"Fermer\")))));\n  }\n\n} //export default Calendar;\n//<ModalEquipe className=\"modalEquipe\" onClose={this.showModal} show={this.state.show} />\n\n/*\n\n\t\t\t\t\t\t\t\t\t{this.state.user.isModo && (\n\t\t\t\t\t\t\t\t\t\t<Button justIcon round color=\"primary\" onClick={e => {\n\t\t\t\t\t\t\t\t\t\t\tthis.setEquipeValue(undefined);\n\t\t\t\t\t\t\t\t\t\t\tthis.showModal();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>+</Button>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\tthis.state.equipes.map((e, i) => {\n\t\t\t\t\t\treturn <div key={i}>{e.nom}</div>;\n\t\t\t\t\t})\n\n\n\n\t\t\t\t\t<ReactTable \ndata={tableData} \ncolumns={columns} \ndefaultPageSize = {2} \npageSizeOptions = {[2,4,6,8]\n}  \n/>\n\n5fa17b8a58e5d000175ec5e2\n5fa1815858e5d000175ec5e3\n5fab15b8480adb0017fdb367\n\n\n*/","map":{"version":3,"sources":["/media/colin/Documents/Epitech/colocation/src/calendar.js"],"names":["React","useState","useEffect","getToken","getUser","removeUserSession","axios","moment","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","styles","Button","Slide","Dialog","DialogTitle","DialogContent","DialogActions","IconButton","Close","CustomInput","Datetime","DatePicker","Tooltip","Radio","FiberManualRecord","FormControlLabel","Popup","DeleteIcon","ListIcon","ArrowUpwardIcon","ArrowDownwardIcon","ReorderIcon","Transition","forwardRef","props","ref","url","displayName","Calendar","Component","constructor","state","user","calendars","events","date","startOf","taille_calendrier","column","data","categories","show","showEvent","showEventReaffecter","showEquipeOrder","equipe_id","undefined","equipe_nom","equipe_chef","equipe_camion","equipe_manoeuvre","equipe_autre","equipe_categorie","event_numero","event_chef","event_camion","event_manoeuvre","event_autre","event_id_equipe","event_date_debut","event_id_event","event_duration","calendar_name","calendar_cp","calendar_address","getEvent","swap","i","clone","add","isoWeekday","push","key","format","value","setState","get","headers","then","response","Events","catch","error","console","log","getEquipes","equipes","Equipe","sort","a","b","order","setEquipe","showModal","e","showModalEquipeOrder","showModalEvent","showModalEventReaffecter","handleLogin","bind","orderEquipe","componentDidMount","equipe","setValues","id_equipe","date_debut","id","params","n_chantier","event_affaire","n_affaire","event_charge","charge","event_adresse","adresse","autre","debut","duration","setEquipeValue","nom","chef","camion","manoeuvre","categorie","name","deleteEvent","delete","window","location","reload","deleteEquipe","event","add_week","sub_week","subtract","change_day","new_date","locale","generate_tooltipe","text","reaffecterEvent","render","useStyles","classes","handleSubmit_add_calendrier","preventDefault","url_edit","post","table","map","calendar","_id","CP","address","root","center","paper","modal","modalHeader","modalCloseButton","modalClose","modalBody","target","modalFooter"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAASC,QAAT,EAAmBC,OAAnB,EAA4BC,iBAA5B,QAAqD,gBAArD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAO,kBAAP;AAEA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,MAAP,MAAmB,yEAAnB;AACA,OAAOC,MAAP,MAAmB,oCAAnB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,OAAOC,WAAP,MAAwB,uCAAxB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,iBAAP,MAA8B,sCAA9B;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAEA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AAEA,OAAO,6CAAP;AACA,OAAO,4CAAP;AACA,OAAO,8BAAP;AAEA,MAAMC,UAAU,GAAGtC,KAAK,CAACuC,UAAN,CAAiB,SAASD,UAAT,CAAoBE,KAApB,EAA2BC,GAA3B,EAAgC;AAClE,sBAAO,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAC,MAAjB;AAAwB,IAAA,GAAG,EAAEA;AAA7B,KAAsCD,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;AACD,CAFkB,CAAnB;AAIA,MAAME,GAAG,GAAG,sCAAZ,C,CACA;;AAEAJ,UAAU,CAACK,WAAX,GAAyB,YAAzB;AAEA,eAAe,MAAMC,QAAN,SAAuB5C,KAAK,CAAC6C,SAA7B,CAAuC;AACtD;AAECC,EAAAA,WAAW,GAAG;AACb;AADa,SAKdC,KALc,GAKN;AACPC,MAAAA,IAAI,EAAE5C,OAAO,EADN;AAEP6C,MAAAA,SAAS,EAAE,EAFJ;AAGPC,MAAAA,MAAM,EAAE,EAHD;AAIPC,MAAAA,IAAI,EAAE5C,MAAM,GAAG6C,OAAT,CAAiB,SAAjB,CAJC;AAKPC,MAAAA,iBAAiB,EAAE,EALZ;AAKiB;AACxBC,MAAAA,MAAM,EAAE,EAND;AASPC,MAAAA,IAAI,EAAE;AACL;AACH;AACA;AACA;AAJQ,OATC;AAgBPC,MAAAA,UAAU,EAAE,EAhBL;AAkBPC,MAAAA,IAAI,EAAE,KAlBC;AAmBPC,MAAAA,SAAS,EAAE,KAnBJ;AAoBPC,MAAAA,mBAAmB,EAAE,KApBd;AAqBPC,MAAAA,eAAe,EAAE,KArBV;AAuBPC,MAAAA,SAAS,EAAEC,SAvBJ;AAwBPC,MAAAA,UAAU,EAAE,EAxBL;AAyBPC,MAAAA,WAAW,EAAE,EAzBN;AA0BPC,MAAAA,aAAa,EAAE,EA1BR;AA2BPC,MAAAA,gBAAgB,EAAE,EA3BX;AA4BPC,MAAAA,YAAY,EAAE,EA5BP;AA6BPC,MAAAA,gBAAgB,EAAE,QA7BX;AA+BPC,MAAAA,YAAY,EAAE,EA/BP;AAgCPC,MAAAA,UAAU,EAAE,EAhCL;AAiCPC,MAAAA,YAAY,EAAE,EAjCP;AAkCPC,MAAAA,eAAe,EAAE,EAlCV;AAmCPC,MAAAA,WAAW,EAAE,EAnCN;AAoCPC,MAAAA,eAAe,EAAEZ,SApCV;AAqCPa,MAAAA,gBAAgB,EAAEb,SArCX;AAsCPc,MAAAA,cAAc,EAAEd,SAtCT;AAuCPe,MAAAA,cAAc,EAAE,CAvCT;AAyCPC,MAAAA,aAAa,EAAE,EAzCR;AA0CPC,MAAAA,WAAW,EAAE,EA1CN;AA2CPC,MAAAA,gBAAgB,EAAE;AA3CX,KALM;;AAAA,SAmEdC,QAnEc,GAmEH,MAAM;AAChB,UAAIC,IAAI,GAAG,EAAX;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKpC,KAAL,CAAWM,iBAA/B,EAAkD8B,CAAC,EAAnD,EAAuD;AACtD,YAAI,KAAKpC,KAAL,CAAWI,IAAX,CAAgBiC,KAAhB,GAAwBC,GAAxB,CAA4BF,CAA5B,EAA+B,KAA/B,EAAsCG,UAAtC,KAAqD,CAAzD,EAA4D;AAC3DJ,UAAAA,IAAI,CAACK,IAAL,CAAU;AACTC,YAAAA,GAAG,EAAE,KAAKzC,KAAL,CAAWI,IAAX,CAAgBiC,KAAhB,GAAwBC,GAAxB,CAA4BF,CAA5B,EAA+B,KAA/B,EAAsCM,MAAtC,CAA6C,MAA7C,IAAuD,GAAvD,GAA6D,KAAK1C,KAAL,CAAWI,IAAX,CAAgBiC,KAAhB,GAAwBC,GAAxB,CAA4BF,CAA5B,EAA+B,KAA/B,EAAsCM,MAAtC,CAA6C,YAA7C,CADzD;AAETC,YAAAA,KAAK,EAAE,KAAK3C,KAAL,CAAWI,IAAX,CAAgBiC,KAAhB,GAAwBC,GAAxB,CAA4BF,CAA5B,EAA+B,KAA/B;AAFE,WAAV;AAIA;AACD;;AACD,WAAKQ,QAAL,CAAc;AAACrC,QAAAA,MAAM,EAAE4B;AAAT,OAAd;AACA,WAAKnC,KAAL,CAAWO,MAAX,GAAoB4B,IAApB;AACA5E,MAAAA,KAAK,CAACsF,GAAN,CAAUlD,GAAG,GAAG,QAAhB,EAA0B;AAACmD,QAAAA,OAAO,EAAE;AAAC,4BAAkB1F,QAAQ;AAA3B;AAAV,OAA1B,EAAsE2F,IAAtE,CAA2EC,QAAQ,IAAI;AACtF,YAAI7C,MAAM,GAAG6C,QAAQ,CAACxC,IAAT,CAAcyC,MAA3B;AACA,aAAKL,QAAL,CAAc;AAAEzC,UAAAA,MAAM,EAAE6C,QAAQ,CAACxC,IAAT,CAAcyC;AAAxB,SAAd,EAFsF,CAGtF;AACA,OAJD,EAIGC,KAJH,CAISC,KAAK,IAAI;AACjBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,OAND;AAOA,KAtFa;;AAAA,SA4FdG,UA5Fc,GA4FD,MAAM;AAClB/F,MAAAA,KAAK,CAACsF,GAAN,CAAUlD,GAAG,GAAG,SAAhB,EAA2B;AAACmD,QAAAA,OAAO,EAAE;AAAC,4BAAkB1F,QAAQ;AAA3B;AAAV,OAA3B,EAAuE2F,IAAvE,CAA4EC,QAAQ,IAAI;AACvF,YAAIO,OAAO,GAAGP,QAAQ,CAACxC,IAAT,CAAcgD,MAA5B;AACAD,QAAAA,OAAO,CAACE,IAAR,CAAa,CAACC,CAAD,EAAGC,CAAH,KAASD,CAAC,CAACE,KAAF,GAAUD,CAAC,CAACC,KAAlC;AACA,aAAKC,SAAL,CAAeN,OAAf;AACA,OAJD,EAIGL,KAJH,CAISC,KAAK,IAAI;AACjBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,OAND;AAOA,KApGa;;AAAA,SAsGdW,SAtGc,GAsGFC,CAAC,IAAI;AAChB,WAAKnB,QAAL,CAAc;AACblC,QAAAA,IAAI,EAAE,CAAC,KAAKV,KAAL,CAAWU;AADL,OAAd;AAGA,KA1Ga;;AAAA,SA4GdsD,oBA5Gc,GA4GSD,CAAC,IAAI;AAC3B,WAAKnB,QAAL,CAAc;AACb/B,QAAAA,eAAe,EAAE,CAAC,KAAKb,KAAL,CAAWa;AADhB,OAAd;AAGA,KAhHa;;AAAA,SAkHdoD,cAlHc,GAkHGF,CAAC,IAAI;AACrB,WAAKnB,QAAL,CAAc;AACbjC,QAAAA,SAAS,EAAE,CAAC,KAAKX,KAAL,CAAWW;AADV,OAAd;AAGA,KAtHa;;AAAA,SAwHduD,wBAxHc,GAwHaH,CAAC,IAAI;AAC/B,WAAKnB,QAAL,CAAc;AACbhC,QAAAA,mBAAmB,EAAE,CAAC,KAAKZ,KAAL,CAAWY;AADpB,OAAd;AAGA,KA5Ha;;AAEb,SAAKuD,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA;;AAgDDC,EAAAA,WAAW,GAAG;AACb,QAAId,OAAO,GAAG,KAAKvD,KAAL,CAAWuD,OAAzB;AACAA,IAAAA,OAAO,CAACE,IAAR,CAAa,CAACC,CAAD,EAAGC,CAAH,KAASD,CAAC,CAACE,KAAF,GAAUD,CAAC,CAACC,KAAlC;AACA,SAAKC,SAAL,CAAeN,OAAf;AACA;;AAEDe,EAAAA,iBAAiB,GAAG;AACnBlB,IAAAA,OAAO,CAACC,GAAR,CAAYjG,QAAQ,EAApB;AACAG,IAAAA,KAAK,CAACsF,GAAN,CAAUlD,GAAG,GAAG,YAAhB,EAA8B;AAACmD,MAAAA,OAAO,EAAE;AAAC,yBAAiB,YAAY1F,QAAQ;AAAtC;AAAV,KAA9B,EAAqF2F,IAArF,CAA0FC,QAAQ,IAAI;AACrG,WAAKJ,QAAL,CAAc;AAAE1C,QAAAA,SAAS,EAAE8C,QAAQ,CAACxC;AAAtB,OAAd;AACA4C,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKrD,KAAL,CAAWE,SAAvB;AACA,KAHD,EAGGgD,KAHH,CAGSC,KAAK,IAAI;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,KALD;AAMA;;AAuBDU,EAAAA,SAAS,CAACU,MAAD,EAAS;AACjB,SAAK3B,QAAL,CAAc;AAACW,MAAAA,OAAO,EAAEgB;AAAV,KAAd;AACA;;AAoCDC,EAAAA,SAAS,CAACC,SAAD,EAAYC,UAAZ,EAAwBC,EAAxB,EAA4B;AACpC,SAAK3E,KAAL,CAAW2B,eAAX,GAA6B8C,SAA7B;AACA,SAAK7B,QAAL,CAAc;AAACf,MAAAA,cAAc,EAAE8C;AAAjB,KAAd;;AAEA,QAAIA,EAAE,KAAK5D,SAAX,EAAsB;AACrBqC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA9F,MAAAA,KAAK,CAACsF,GAAN,CAAUlD,GAAG,GAAG,YAAhB,EAA8B;AAC7BmD,QAAAA,OAAO,EAAE;AAAC,4BAAkB1F,QAAQ;AAA3B,SADoB;AAE7BwH,QAAAA,MAAM,EAAE;AAACD,UAAAA,EAAE,EAAEA;AAAL;AAFqB,OAA9B,EAGG5B,IAHH,CAGQC,QAAQ,IAAI;AACnB,YAAI,CAACA,QAAQ,CAACxC,IAAT,CAAcyC,MAAnB,EAA2B;AAC1B;AACA;;AACD,aAAKL,QAAL,CAAc;AAACf,UAAAA,cAAc,EAAE8C;AAAjB,SAAd;AACA,aAAK/B,QAAL,CAAc;AAACtB,UAAAA,YAAY,EAAE0B,QAAQ,CAACxC,IAAT,CAAcyC,MAAd,CAAqB4B;AAApC,SAAd;AACA,aAAKjC,QAAL,CAAc;AAACkC,UAAAA,aAAa,EAAE9B,QAAQ,CAACxC,IAAT,CAAcyC,MAAd,CAAqB8B;AAArC,SAAd;AACA,aAAKnC,QAAL,CAAc;AAACoC,UAAAA,YAAY,EAAEhC,QAAQ,CAACxC,IAAT,CAAcyC,MAAd,CAAqBgC;AAApC,SAAd;AACA,aAAKrC,QAAL,CAAc;AAACsC,UAAAA,aAAa,EAAElC,QAAQ,CAACxC,IAAT,CAAcyC,MAAd,CAAqBkC;AAArC,SAAd;AACA,aAAKvC,QAAL,CAAc;AAAClB,UAAAA,WAAW,EAAEsB,QAAQ,CAACxC,IAAT,CAAcyC,MAAd,CAAqBmC;AAAnC,SAAd;AACA,aAAKxC,QAAL,CAAc;AAAChB,UAAAA,gBAAgB,EAAEpE,MAAM,CAACwF,QAAQ,CAACxC,IAAT,CAAcyC,MAAd,CAAqBoC,KAAtB;AAAzB,SAAd;AACA,aAAKzC,QAAL,CAAc;AAACjB,UAAAA,eAAe,EAAEqB,QAAQ,CAACxC,IAAT,CAAcyC,MAAd,CAAqBsB;AAAvC,SAAd;AACA,aAAK3B,QAAL,CAAc;AAACd,UAAAA,cAAc,EAAEkB,QAAQ,CAACxC,IAAT,CAAcyC,MAAd,CAAqBqC;AAAtC,SAAd;AACAlC,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,OAjBD,EAiBGH,KAjBH,CAiBSC,KAAK,IAAI;AACjBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,OAnBD;AAoBA,KAtBD,MAsBO;AACN,WAAKP,QAAL,CAAc;AAACtB,QAAAA,YAAY,EAAE;AAAf,OAAd;AACA,WAAKsB,QAAL,CAAc;AAACkC,QAAAA,aAAa,EAAE;AAAhB,OAAd;AACA,WAAKlC,QAAL,CAAc;AAACoC,QAAAA,YAAY,EAAE;AAAf,OAAd;AACA,WAAKpC,QAAL,CAAc;AAACsC,QAAAA,aAAa,EAAE;AAAhB,OAAd;AACA,WAAKtC,QAAL,CAAc;AAAClB,QAAAA,WAAW,EAAE;AAAd,OAAd;AACA,WAAKkB,QAAL,CAAc;AAAChB,QAAAA,gBAAgB,EAAE8C;AAAnB,OAAd;AACA,WAAK9B,QAAL,CAAc;AAACjB,QAAAA,eAAe,EAAE8C;AAAlB,OAAd;AACA,WAAK7B,QAAL,CAAc;AAACd,QAAAA,cAAc,EAAE;AAAjB,OAAd;AACA;AACD;;AAEDyD,EAAAA,cAAc,CAACZ,EAAD,EAAK;AAClB,SAAK/B,QAAL,CAAc;AAAC9B,MAAAA,SAAS,EAAE6D;AAAZ,KAAd;;AAEA,QAAIA,EAAE,KAAK5D,SAAX,EAAsB;AACrBqC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA9F,MAAAA,KAAK,CAACsF,GAAN,CAAUlD,GAAG,GAAG,aAAhB,EAA+B;AAC9BmD,QAAAA,OAAO,EAAE;AAAC,4BAAkB1F,QAAQ;AAA3B,SADqB;AAE9BwH,QAAAA,MAAM,EAAE;AAACD,UAAAA,EAAE,EAAEA;AAAL;AAFsB,OAA/B,EAGG5B,IAHH,CAGQC,QAAQ,IAAI;AACnB,aAAKJ,QAAL,CAAc;AAAC5B,UAAAA,UAAU,EAAEgC,QAAQ,CAACxC,IAAT,CAAc+D,MAAd,CAAqBiB;AAAlC,SAAd;AACA,aAAK5C,QAAL,CAAc;AAAC3B,UAAAA,WAAW,EAAE+B,QAAQ,CAACxC,IAAT,CAAc+D,MAAd,CAAqBkB;AAAnC,SAAd;AACA,aAAK7C,QAAL,CAAc;AAAC1B,UAAAA,aAAa,EAAE8B,QAAQ,CAACxC,IAAT,CAAc+D,MAAd,CAAqBmB;AAArC,SAAd;AACA,aAAK9C,QAAL,CAAc;AAACzB,UAAAA,gBAAgB,EAAE6B,QAAQ,CAACxC,IAAT,CAAc+D,MAAd,CAAqBoB;AAAxC,SAAd;AACA,aAAK/C,QAAL,CAAc;AAACxB,UAAAA,YAAY,EAAE4B,QAAQ,CAACxC,IAAT,CAAc+D,MAAd,CAAqBa;AAApC,SAAd;AACA,aAAKxC,QAAL,CAAc;AAACvB,UAAAA,gBAAgB,EAAE2B,QAAQ,CAACxC,IAAT,CAAcoF,SAAd,CAAwBC;AAA3C,SAAd;AACAzC,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,OAXD,EAWGH,KAXH,CAWSC,KAAK,IAAI;AACjBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,OAbD;AAcA,KAhBD,MAgBO;AACN,WAAKP,QAAL,CAAc;AAAC5B,QAAAA,UAAU,EAAE;AAAb,OAAd;AACA,WAAK4B,QAAL,CAAc;AAAC3B,QAAAA,WAAW,EAAE;AAAd,OAAd;AACA,WAAK2B,QAAL,CAAc;AAAC1B,QAAAA,aAAa,EAAE;AAAhB,OAAd;AACA,WAAK0B,QAAL,CAAc;AAACzB,QAAAA,gBAAgB,EAAE;AAAnB,OAAd;AACA,WAAKyB,QAAL,CAAc;AAACxB,QAAAA,YAAY,EAAE;AAAf,OAAd;AACA,WAAKwB,QAAL,CAAc;AAACvB,QAAAA,gBAAgB,EAAE;AAAnB,OAAd;AACA;AACD;;AAEDyE,EAAAA,WAAW,GAAG;AACb,QAAI,KAAK9F,KAAL,CAAW6B,cAAX,KAA8Bd,SAAlC,EAA6C;AAC5CqC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKrD,KAAL,CAAW6B,cAAvB;AACAtE,MAAAA,KAAK,CAACwI,MAAN,CAAapG,GAAG,GAAG,eAAnB,EAAoC;AACnCmD,QAAAA,OAAO,EAAE;AAAC,4BAAkB1F,QAAQ;AAA3B,SAD0B;AAEnCwH,QAAAA,MAAM,EAAE;AAACD,UAAAA,EAAE,EAAE,KAAK3E,KAAL,CAAW6B;AAAhB;AAF2B,OAApC,EAGGkB,IAHH,CAGQC,QAAQ,IAAI;AACnBI,QAAAA,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACxC,IAArB;AACAwF,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACA,OAND,EAMGhD,KANH,CAMSC,KAAK,IAAI;AACjBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,OARD;AASA;AACD;;AAEDgD,EAAAA,YAAY,CAAC1B,SAAD,EAAY;AACvBlH,IAAAA,KAAK,CAACwI,MAAN,CAAapG,GAAG,GAAG,gBAAnB,EAAqC;AACnCmD,MAAAA,OAAO,EAAE;AAAC,0BAAkB1F,QAAQ;AAA3B,OAD0B;AAEnCwH,MAAAA,MAAM,EAAE;AAACD,QAAAA,EAAE,EAAEF;AAAL;AAF2B,KAArC,EAGI1B,IAHJ,CAGSC,QAAQ,IAAI;AACpBI,MAAAA,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACxC,IAArB;AACAwF,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACA,KAND,EAMGhD,KANH,CAMSC,KAAK,IAAI;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,KARD;AASA;;AAEDgB,EAAAA,WAAW,CAACiC,KAAD,EAAQ;AAClBhD,IAAAA,OAAO,CAACC,GAAR,CAAY+C,KAAZ;AACAJ,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB;AACA,WAAO,KAAP;AACA;;AAEDG,EAAAA,QAAQ,GAAG;AACVjD,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKrD,KAAL,CAAWI,IAAvB;AACA,SAAKJ,KAAL,CAAWI,IAAX,CAAgBkC,GAAhB,CAAoB,CAApB,EAAuB,MAAvB;AACA,SAAKJ,QAAL;AACAkB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKrD,KAAL,CAAWI,IAAvB;AACAgD,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACA;;AAEDiD,EAAAA,QAAQ,GAAG;AACVlD,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKrD,KAAL,CAAWI,IAAvB;AACA,SAAKJ,KAAL,CAAWI,IAAX,CAAgBmG,QAAhB,CAAyB,CAAzB,EAA4B,MAA5B;AACA,SAAKrE,QAAL;AACAkB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKrD,KAAL,CAAWI,IAAvB;AACAgD,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACA;;AAEDmD,EAAAA,UAAU,CAACC,QAAD,EAAW;AACpB,SAAKzG,KAAL,CAAWI,IAAX,GAAkB5C,MAAM,CAACiJ,QAAD,CAAxB;AACA,SAAKvE,QAAL;AACA1E,IAAAA,MAAM,CAACkJ,MAAP,CAAc,IAAd;AACAtD,IAAAA,OAAO,CAACC,GAAR,CAAY7F,MAAM,CAAC,YAAD,EAAe,YAAf,CAAN,CAAmCkJ,MAAnC,CAA0C,IAA1C,EAAgDhE,MAAhD,CAAuD,KAAvD,CAAZ;AACA;;AAEDiE,EAAAA,iBAAiB,CAACP,KAAD,EAAQ;AACxB,QAAIQ,IAAI,GAAG,gBAAgBR,KAAK,CAACvB,UAAjC;;AACA,QAAIuB,KAAK,CAACrB,SAAN,KAAoB,EAAxB,EAA4B;AAC3B6B,MAAAA,IAAI,IAAI,oBAAoBR,KAAK,CAACrB,SAAlC;AACA;;AACD,QAAIqB,KAAK,CAACjB,OAAN,KAAkB,EAAtB,EAA0B;AACzByB,MAAAA,IAAI,IAAI,iBAAiBR,KAAK,CAACjB,OAA/B;AACA;;AACD,QAAIiB,KAAK,CAACnB,MAAV,EAAkB;AACjB2B,MAAAA,IAAI,IAAI,gBAAgBR,KAAK,CAACnB,MAA9B;AACA;;AACD2B,IAAAA,IAAI,IAAI,cAAcR,KAAK,CAACd,QAApB,GAA+B,UAAvC;;AACA,QAAIc,KAAK,CAAChB,KAAV,EAAiB;AAChBwB,MAAAA,IAAI,IAAI,eAAeR,KAAK,CAAChB,KAA7B;AACA;;AACD,WAAOwB,IAAP;AACA;;AAEDC,EAAAA,eAAe,GAAG;AACjB,SAAK5C,cAAL;AACA,SAAKrB,QAAL,CAAc;AAAChC,MAAAA,mBAAmB,EAAE;AAAtB,KAAd;AACA;;AAEDkG,EAAAA,MAAM,GAAG;AAER,UAAMC,SAAS,GAAGtJ,UAAU,CAACQ,MAAD,CAA5B;AACA,UAAM+I,OAAO,GAAGvJ,UAAU,CAACQ,MAAD,CAA1B;;AAEC,UAAMgJ,2BAA2B,GAAIb,KAAD,IAAW;AAC/CA,MAAAA,KAAK,CAACc,cAAN;;AACA,UAAI,KAAKlH,KAAL,CAAWwF,GAAX,IAAkB,EAAtB,EAA0B;AACzBpC,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACA;AACA;;AACD,UAAI7C,IAAI,GAAG;AACVgF,QAAAA,GAAG,EAAE,KAAKxF,KAAL,CAAWgB,UADN;AAEVyE,QAAAA,IAAI,EAAE,KAAKzF,KAAL,CAAWiB,WAFP;AAGVyE,QAAAA,MAAM,EAAE,KAAK1F,KAAL,CAAWkB,aAHT;AAIVyE,QAAAA,SAAS,EAAE,KAAK3F,KAAL,CAAWmB,gBAJZ;AAKViE,QAAAA,KAAK,EAAE,KAAKpF,KAAL,CAAWoB,YALR;AAMVwE,QAAAA,SAAS,EAAE,KAAK5F,KAAL,CAAWqB;AANZ,OAAX;AAQA,UAAI8F,QAAQ,GAAGxH,GAAG,GAAG,aAArB;;AACA,UAAI,KAAKK,KAAL,CAAWc,SAAX,KAAyBC,SAA7B,EAAwC;AACvCoG,QAAAA,QAAQ,GAAGxH,GAAG,GAAG,gBAAjB;AACAa,QAAAA,IAAI,CAACmE,EAAL,GAAU,KAAK3E,KAAL,CAAWc,SAArB;AACA;;AACDsC,MAAAA,OAAO,CAACC,GAAR,CAAY8D,QAAZ;AACA/D,MAAAA,OAAO,CAACC,GAAR,CAAY7C,IAAZ;AACAjD,MAAAA,KAAK,CAAC6J,IAAN,CAAWD,QAAX,EAAqB3G,IAArB,EACE;AACDsC,QAAAA,OAAO,EAAE;AAAC,4BAAkB1F,QAAQ;AAA3B;AADR,OADF,EAGG2F,IAHH,CAGQC,QAAQ,IAAI;AACnBI,QAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACAgD,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EAFmB,CAGnB;AACA,OAPD,EAOGhD,KAPH,CAOSC,KAAK,IAAI;AACjBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,OATD,EArB+C,CA+B/C;AACA,KAhCA;;AAkCD,wBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,cAAD;AAAgB,MAAA,SAAS,EAAEnF,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAEgJ,OAAO,CAACK,KAA1B;AAAiC,oBAAW,cAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAEC,oBAAC,MAAD;AAAQ,MAAA,QAAQ,MAAhB;AAAiB,MAAA,KAAK,MAAtB;AAAuB,MAAA,KAAK,EAAC,SAA7B;AAAuC,MAAA,OAAO,EAAEtD,CAAC,IAAI;AACnD,aAAKD,SAAL;AACA,OAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFD,CADD,eAQC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBARD,eAWC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAXD,CADD,CADD,eAkBC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAK9D,KAAL,CAAWE,SAAX,CAAqBoH,GAArB,CAA0BC,QAAD,iBACzB,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,QAAQ,CAACC,GAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,IAArB;AAA0B,MAAA,KAAK,EAAC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAID,QAAQ,CAAC1B,IAAb,CADD,CADD,eAIC,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,IAArB;AAA0B,MAAA,KAAK,EAAC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAI0B,QAAQ,CAACE,EAAb,CADD,CAJD,eAOC,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,IAArB;AAA0B,MAAA,KAAK,EAAC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIF,QAAQ,CAACG,OAAb,CADD,CAPD,CADA,CADF,CAlBD,CADD,CADD,eAuCC,oBAAC,MAAD;AACC,MAAA,OAAO,EAAE;AACRC,QAAAA,IAAI,EAAEX,OAAO,CAACY,MADN;AAERC,QAAAA,KAAK,EAAEb,OAAO,CAACc;AAFP,OADV;AAKC,MAAA,IAAI,EAAE,KAAK9H,KAAL,CAAWU,IALlB;AAMC,MAAA,mBAAmB,EAAEnB,UANtB;AAOC,MAAA,WAAW,MAPZ;AAQC,MAAA,OAAO,EAAE,KAAKuE,SARf;AASC,yBAAgB,2BATjB;AAUC,0BAAiB,iCAVlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAYC,oBAAC,WAAD;AACC,MAAA,EAAE,EAAC,2BADJ;AAEC,MAAA,iBAAiB,MAFlB;AAGC,MAAA,SAAS,EAAEkD,OAAO,CAACe,WAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAMC,oBAAC,UAAD;AACC,MAAA,SAAS,EAAEf,OAAO,CAACgB,gBADpB;AAEC,MAAA,GAAG,EAAC,OAFL;AAGC,oBAAW,OAHZ;AAIC,MAAA,KAAK,EAAC,SAJP;AAKC,MAAA,OAAO,EAAE,KAAKlE,SALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOC,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAEkD,OAAO,CAACiB,UAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPD,CAND,CAZD,eA4BC;AAAM,MAAA,QAAQ,EAAEhB,2BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,aAAD;AACC,MAAA,EAAE,EAAC,iCADJ;AAEC,MAAA,SAAS,EAAED,OAAO,CAACkB,SAFpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIC;AACC,MAAA,IAAI,EAAC,MADN;AAEC,MAAA,KAAK,EAAE,KAAKlI,KAAL,CAAW+B,aAFnB;AAGC,MAAA,QAAQ,EAAEqE,KAAK,IAAI,KAAKxD,QAAL,CAAc;AAAE5B,QAAAA,UAAU,EAAEoF,KAAK,CAAC+B,MAAN,CAAaxF;AAA3B,OAAd,CAHpB;AAIC,MAAA,WAAW,EAAC,KAJb;AAKC,MAAA,QAAQ,MALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJD,eAWC;AACC,MAAA,IAAI,EAAC,MADN;AAEC,MAAA,KAAK,EAAE,KAAK3C,KAAL,CAAWgC,WAFnB;AAGC,MAAA,QAAQ,EAAEoE,KAAK,IAAI,KAAKxD,QAAL,CAAc;AAAE3B,QAAAA,WAAW,EAAEmF,KAAK,CAAC+B,MAAN,CAAaxF;AAA5B,OAAd,CAHpB;AAIC,MAAA,WAAW,EAAC,aAJb;AAKC,MAAA,QAAQ,MALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXD,eAkBC;AACC,MAAA,IAAI,EAAC,MADN;AAEC,MAAA,KAAK,EAAE,KAAK3C,KAAL,CAAWiC,gBAFnB;AAGC,MAAA,QAAQ,EAAEmE,KAAK,IAAI,KAAKxD,QAAL,CAAc;AAAE1B,QAAAA,aAAa,EAAEkF,KAAK,CAAC+B,MAAN,CAAaxF;AAA9B,OAAd,CAHpB;AAIC,MAAA,WAAW,EAAC,SAJb;AAKC,MAAA,QAAQ,MALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlBD,CADD,eA2BC,oBAAC,aAAD;AAAe,MAAA,SAAS,EAAEqE,OAAO,CAACoB,WAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,KAAK,EAAC,SAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADD,eAIC,oBAAC,MAAD;AACC,MAAA,OAAO,EAAE,KAAKtE,SADf;AAEC,MAAA,KAAK,EAAC,QAFP;AAGC,MAAA,MAAM,MAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJD,CA3BD,CA5BD,CAvCD,CADD;AA+GA;;AAzaoD,C,CA4atD;AACI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { getToken, getUser, removeUserSession } from './Utils/Common';\nimport axios from 'axios';\nimport moment from 'moment';\nimport 'moment/locale/fr';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport styles from \"./assets/jss/material-kit-react/views/componentsSections/basicsStyle.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Slide from \"@material-ui/core/Slide\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Close from \"@material-ui/icons/Close\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport Datetime from \"react-datetime\";\nimport DatePicker from \"react-datepicker\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Radio from \"@material-ui/core/Radio\";\nimport FiberManualRecord from \"@material-ui/icons/FiberManualRecord\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Popup from 'reactjs-popup';\n\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport ListIcon from '@material-ui/icons/List';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport ReorderIcon from '@material-ui/icons/Reorder';\n\nimport \"assets/scss/material-kit-react.scss?v=1.9.0\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'reactjs-popup/dist/index.css';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"down\" ref={ref} {...props} />;\n});\n\nconst url = \"https://cocolinquation.herokuapp.com\";\n//const url = \"https://api-sgetas-dev.herokuapp.com\";\n\nTransition.displayName = \"Transition\";\n\nexport default class Calendar extends React.Component {\n//function Calendar(props) {\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.handleLogin = this.handleLogin.bind(this);\n\t}\n\n\tstate = {\n\t\tuser: getUser(),\n\t\tcalendars: [],\n\t\tevents: [],\n\t\tdate: moment().startOf('isoWeek'),\n\t\ttaille_calendrier: 19,  //3 semaines de travail\n\t\tcolumn: [\n\t\t\t\n\t\t],\n\t\tdata: [\n\t\t\t/*{\n\t\t\t\tnom: \"Cocolito\",\n\t\t\t\tchef: \"The cehf\"\n\t\t\t}*/\n\t\t],\n\n\t\tcategories: [],\n\n\t\tshow: false,\n\t\tshowEvent: false,\n\t\tshowEventReaffecter: false,\n\t\tshowEquipeOrder: false,\n\n\t\tequipe_id: undefined,\n\t\tequipe_nom: '',\n\t\tequipe_chef: '',\n\t\tequipe_camion: '',\n\t\tequipe_manoeuvre: '',\n\t\tequipe_autre: '',\n\t\tequipe_categorie: 'Equipe',\n\n\t\tevent_numero: '',\n\t\tevent_chef: '',\n\t\tevent_camion: '',\n\t\tevent_manoeuvre: '',\n\t\tevent_autre: '',\n\t\tevent_id_equipe: undefined,\n\t\tevent_date_debut: undefined,\n\t\tevent_id_event: undefined,\n\t\tevent_duration: 1,\n\n\t\tcalendar_name: '',\n\t\tcalendar_cp: '',\n\t\tcalendar_address: '',\n\t};\n\n\torderEquipe() {\n\t\tvar equipes = this.state.equipes;\n\t\tequipes.sort((a,b) => a.order - b.order);\n\t\tthis.setEquipe(equipes);\n\t}\n\n\tcomponentDidMount() {\n\t\tconsole.log(getToken());\n\t\taxios.get(url + '/calendars', {headers: {'Authorization': 'Bearer ' + getToken()} }).then(response => {\n\t\t\tthis.setState({ calendars: response.data });\n\t\t\tconsole.log(this.state.calendars);\n\t\t}).catch(error => {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n\n\tgetEvent = () => {\n\t\tvar swap = [];\n\t\tfor (var i = 0; i < this.state.taille_calendrier; i++) {\n\t\t\tif (this.state.date.clone().add(i, \"day\").isoWeekday() < 7) {\n\t\t\t\tswap.push({\n\t\t\t\t\tkey: this.state.date.clone().add(i, \"day\").format('dddd') + \" \" + this.state.date.clone().add(i, \"day\").format(\"DD/MM/YYYY\"),\n\t\t\t\t\tvalue: this.state.date.clone().add(i, \"day\")\n\t\t\t\t});\n\t\t\t}\n\t\t} \n\t\tthis.setState({column: swap});\n\t\tthis.state.column = swap;\n\t\taxios.get(url + '/event', {headers: {\"x-access-token\": getToken()} }).then(response => {\n\t\t\tvar events = response.data.Events;\n\t\t\tthis.setState({ events: response.data.Events });\n\t\t\t//equipes = response.data.Equipe;\n\t\t}).catch(error => {\n\t\t\tconsole.log(error);\n\t\t});\n\t};\n\n\tsetEquipe(equipe) {\n\t\tthis.setState({equipes: equipe});\n\t}\n\n\tgetEquipes = () => {\n\t\taxios.get(url + '/equipe', {headers: {\"x-access-token\": getToken()} }).then(response => {\n\t\t\tvar equipes = response.data.Equipe;\n\t\t\tequipes.sort((a,b) => a.order - b.order);\n\t\t\tthis.setEquipe(equipes);\n\t\t}).catch(error => {\n\t\t\tconsole.log(error);\n\t\t}); \n\t};\n\n\tshowModal = e => {\n\t\tthis.setState({\n\t\t\tshow: !this.state.show\n\t\t});\n\t};\n\n\tshowModalEquipeOrder = e => {\n\t\tthis.setState({\n\t\t\tshowEquipeOrder: !this.state.showEquipeOrder\n\t\t});\n\t};\n\n\tshowModalEvent = e => {\n\t\tthis.setState({\n\t\t\tshowEvent: !this.state.showEvent\n\t\t});\n\t};\n\n\tshowModalEventReaffecter = e => {\n\t\tthis.setState({\n\t\t\tshowEventReaffecter: !this.state.showEventReaffecter\n\t\t});\n\t};\n\n\tsetValues(id_equipe, date_debut, id) {\n\t\tthis.state.event_id_equipe = id_equipe;\n\t\tthis.setState({event_id_event: id});\n\n\t\tif (id !== undefined) {\n\t\t\tconsole.log(\"couocu\");\n\t\t\taxios.get(url + '/event/one', {\n\t\t\t\theaders: {\"x-access-token\": getToken()},\n\t\t\t\tparams: {id: id}\n\t\t\t}).then(response => {\n\t\t\t\tif (!response.data.Events) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.setState({event_id_event: id});\n\t\t\t\tthis.setState({event_numero: response.data.Events.n_chantier});\n\t\t\t\tthis.setState({event_affaire: response.data.Events.n_affaire});\n\t\t\t\tthis.setState({event_charge: response.data.Events.charge});\n\t\t\t\tthis.setState({event_adresse: response.data.Events.adresse});\n\t\t\t\tthis.setState({event_autre: response.data.Events.autre});\n\t\t\t\tthis.setState({event_date_debut: moment(response.data.Events.debut)});\n\t\t\t\tthis.setState({event_id_equipe: response.data.Events.equipe});\n\t\t\t\tthis.setState({event_duration: response.data.Events.duration});\n\t\t\t\tconsole.log(\"bah ok\");\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({event_numero: ''});\n\t\t\tthis.setState({event_affaire: ''});\n\t\t\tthis.setState({event_charge: ''});\n\t\t\tthis.setState({event_adresse: ''});\n\t\t\tthis.setState({event_autre: ''});\n\t\t\tthis.setState({event_date_debut: date_debut});\n\t\t\tthis.setState({event_id_equipe: id_equipe});\n\t\t\tthis.setState({event_duration: 1});\n\t\t}\n\t}\n\n\tsetEquipeValue(id) {\n\t\tthis.setState({equipe_id: id});\n\n\t\tif (id !== undefined) {\n\t\t\tconsole.log(\"couocu\");\n\t\t\taxios.get(url + '/equipe/one', {\n\t\t\t\theaders: {\"x-access-token\": getToken()},\n\t\t\t\tparams: {id: id}\n\t\t\t}).then(response => {\n\t\t\t\tthis.setState({equipe_nom: response.data.equipe.nom});\n\t\t\t\tthis.setState({equipe_chef: response.data.equipe.chef});\n\t\t\t\tthis.setState({equipe_camion: response.data.equipe.camion});\n\t\t\t\tthis.setState({equipe_manoeuvre: response.data.equipe.manoeuvre});\n\t\t\t\tthis.setState({equipe_autre: response.data.equipe.autre});\n\t\t\t\tthis.setState({equipe_categorie: response.data.categorie.name});\n\t\t\t\tconsole.log(\"bah ok\");\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({equipe_nom: ''});\n\t\t\tthis.setState({equipe_chef: ''});\n\t\t\tthis.setState({equipe_camion: ''});\n\t\t\tthis.setState({equipe_manoeuvre: ''});\n\t\t\tthis.setState({equipe_autre: ''});\n\t\t\tthis.setState({equipe_categorie: 'Equipe'});\n\t\t}\n\t}\n\n\tdeleteEvent() {\n\t\tif (this.state.event_id_event !== undefined) {\n\t\t\tconsole.log(this.state.event_id_event);\n\t\t\taxios.delete(url + '/event/delete', {\n\t\t\t\theaders: {\"x-access-token\": getToken()},\n\t\t\t\tparams: {id: this.state.event_id_event}\n\t\t\t}).then(response => {\n\t\t\t\tconsole.log(response.data);\n\t\t\t\twindow.location.reload(false);\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t\t}\n\t}\n\n\tdeleteEquipe(id_equipe) {\n\t\taxios.delete(url + '/equipe/delete', {\n\t\t\t\theaders: {\"x-access-token\": getToken()},\n\t\t\t\tparams: {id: id_equipe}\n\t\t\t}).then(response => {\n\t\t\tconsole.log(response.data);\n\t\t\twindow.location.reload(false);\n\t\t}).catch(error => {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n\n\thandleLogin(event) {\n\t\tconsole.log(event);\n\t\twindow.location.reload(true);\n\t\treturn false;\n\t}\n\n\tadd_week() {\n\t\tconsole.log(this.state.date);\n\t\tthis.state.date.add(1, \"week\");\n\t\tthis.getEvent();\n\t\tconsole.log(this.state.date);\n\t\tconsole.log(\"gg\");\n\t}\n\n\tsub_week() {\n\t\tconsole.log(this.state.date);\n\t\tthis.state.date.subtract(1, \"week\");\n\t\tthis.getEvent();\n\t\tconsole.log(this.state.date);\n\t\tconsole.log(\"gg\");\n\t}\n\n\tchange_day(new_date) {\n\t\tthis.state.date = moment(new_date);\n\t\tthis.getEvent();\n\t\tmoment.locale(\"fr\");\n\t\tconsole.log(moment(\"01-06-2018\", 'MM-DD-YYYY').locale(\"fr\").format('LLL'));\n\t}\n\n\tgenerate_tooltipe(event) {\n\t\tlet text = \"chantier : \" + event.n_chantier;\n\t\tif (event.n_affaire !== \"\") {\n\t\t\ttext += \"\\nn° affaire : \" + event.n_affaire;\n\t\t}\n\t\tif (event.adresse !== \"\") {\n\t\t\ttext += \"\\nadresse : \" + event.adresse;\n\t\t}\n\t\tif (event.charge) {\n\t\t\ttext += \"\\nchargé : \" + event.charge;\n\t\t}\n\t\ttext += \"\\nduré : \" + event.duration + \" jour(s)\";\n\t\tif (event.autre) {\n\t\t\ttext += \"\\nautre : \" + event.autre;\n\t\t}\n\t\treturn text;\n\t}\n\n\treaffecterEvent() {\n\t\tthis.showModalEvent();\n\t\tthis.setState({showEventReaffecter: true})\n\t}\n\n\trender() {\n\n\t\tconst useStyles = makeStyles(styles);\n\t\tconst classes = makeStyles(styles);\n \t\t\n \t\tconst handleSubmit_add_calendrier = (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tif (this.state.nom == '') {\n\t\t\t\tconsole.log(\"erreur: nom requis\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\tnom: this.state.equipe_nom,\n\t\t\t\tchef: this.state.equipe_chef,\n\t\t\t\tcamion: this.state.equipe_camion,\n\t\t\t\tmanoeuvre: this.state.equipe_manoeuvre,\n\t\t\t\tautre: this.state.equipe_autre,\n\t\t\t\tcategorie: this.state.equipe_categorie\n\t\t\t}\n\t\t\tlet url_edit = url + '/equipe/add';\n\t\t\tif (this.state.equipe_id !== undefined) {\n\t\t\t\turl_edit = url + \"/equipe/update\"\n\t\t\t\tdata.id = this.state.equipe_id;\n\t\t\t}\n\t\t\tconsole.log(url_edit);\n\t\t\tconsole.log(data);\n\t\t\taxios.post(url_edit, data\n\t\t\t, {\n\t\t\t\theaders: {\"x-access-token\": getToken()}\n\t\t\t}).then(response => {\n\t\t\t\tconsole.log(response);\n\t\t\t\twindow.location.reload(false);\n\t\t\t\t//props.history.push('/Calendar');\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t\t\t//console.log(React.findDOMNode(this.refs.equipe_nom_ref).value);\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<TableContainer component={Paper}>\n\t\t\t\t\t<Table className={classes.table} aria-label=\"simple table\">\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow key=\"header\">\n\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\tCalendrier\n\t\t\t\t\t\t\t\t\t<Button justIcon round color=\"primary\" onClick={e => {\n\t\t\t\t\t\t\t\t\t\t\tthis.showModal();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>+</Button>\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\tCode Postal\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\tAdresse\n\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{this.state.calendars.map((calendar) => (\n\t\t\t\t\t\t\t\t<TableRow key={calendar._id}>\n\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" scope=\"row\">\n\t\t\t\t\t\t\t\t\t\t<p>{calendar.name}</p>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" scope=\"row\">\n\t\t\t\t\t\t\t\t\t\t<p>{calendar.CP}</p>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" scope=\"row\">\n\t\t\t\t\t\t\t\t\t\t<p>{calendar.address}</p>\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\n\n\t\t\t\t<Dialog\n\t\t\t\t\tclasses={{\n\t\t\t\t\t\troot: classes.center,\n\t\t\t\t\t\tpaper: classes.modal\n\t\t\t\t\t}}\n\t\t\t\t\topen={this.state.show}\n\t\t\t\t\tTransitionComponent={Transition}\n\t\t\t\t\tkeepMounted\n\t\t\t\t\tonClose={this.showModal}\n\t\t\t\t\taria-labelledby=\"classic-modal-slide-title\"\n\t\t\t\t\taria-describedby=\"classic-modal-slide-description\"\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle\n\t\t\t\t\t\tid=\"classic-modal-slide-title\"\n\t\t\t\t\t\tdisableTypography\n\t\t\t\t\t\tclassName={classes.modalHeader}\n\t\t\t\t\t>\n\t\t\t\t\t\tAjouter un calendrier\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tclassName={classes.modalCloseButton}\n\t\t\t\t\t\t\tkey=\"close\"\n\t\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\t\tonClick={this.showModal}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Close className={classes.modalClose} />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<form onSubmit={handleSubmit_add_calendrier}>\n\t\t\t\t\t\t<DialogContent\n\t\t\t\t\t\t\tid=\"classic-modal-slide-description\"\n\t\t\t\t\t\t\tclassName={classes.modalBody}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\tvalue={this.state.calendar_name}\n\t\t\t\t\t\t\t\tonChange={event => this.setState({ equipe_nom: event.target.value })}\n\t\t\t\t\t\t\t\tplaceholder=\"Nom\"\n\t\t\t\t\t\t\t\trequired \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\tvalue={this.state.calendar_cp}\n\t\t\t\t\t\t\t\tonChange={event => this.setState({ equipe_chef: event.target.value })}\n\t\t\t\t\t\t\t\tplaceholder=\"Code Postal\"\n\t\t\t\t\t\t\t\trequired \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\tvalue={this.state.calendar_address}\n\t\t\t\t\t\t\t\tonChange={event => this.setState({ equipe_camion: event.target.value })}\n\t\t\t\t\t\t\t\tplaceholder=\"Adresse\"\n\t\t\t\t\t\t\t\trequired \n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t<DialogActions className={classes.modalFooter}>\n\t\t\t\t\t\t\t<Button type=\"submit\" color=\"primary\">\n\t\t\t\t\t\t\t\tValider\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={this.showModal}\n\t\t\t\t\t\t\t\tcolor=\"danger\"\n\t\t\t\t\t\t\t\tsimple\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tFermer\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t</form>\n\t\t\t\t</Dialog>\n\t\t\t</div>\n\t\t);\n\t}\n}\n \n//export default Calendar;\n\t\t\t\t//<ModalEquipe className=\"modalEquipe\" onClose={this.showModal} show={this.state.show} />\n\n/*\n\n\t\t\t\t\t\t\t\t\t{this.state.user.isModo && (\n\t\t\t\t\t\t\t\t\t\t<Button justIcon round color=\"primary\" onClick={e => {\n\t\t\t\t\t\t\t\t\t\t\tthis.setEquipeValue(undefined);\n\t\t\t\t\t\t\t\t\t\t\tthis.showModal();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>+</Button>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\tthis.state.equipes.map((e, i) => {\n\t\t\t\t\t\treturn <div key={i}>{e.nom}</div>;\n\t\t\t\t\t})\n\n\n\n\t\t\t\t\t<ReactTable \ndata={tableData} \ncolumns={columns} \ndefaultPageSize = {2} \npageSizeOptions = {[2,4,6,8]\n}  \n/>\n\n5fa17b8a58e5d000175ec5e2\n5fa1815858e5d000175ec5e3\n5fab15b8480adb0017fdb367\n\n\n*/"]},"metadata":{},"sourceType":"module"}